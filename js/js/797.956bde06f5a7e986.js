"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{62753:function(e,t,r){var n=r(64836);t.Z=void 0;var o=n(r(64938)),a=r(85893),s=(0,o.default)((0,a.jsx)("path",{d:"m19.77 7.23.01-.01-3.72-3.72L15 4.56l2.11 2.11c-.94.36-1.61 1.26-1.61 2.33 0 1.38 1.12 2.5 2.5 2.5.36 0 .69-.08 1-.21v7.21c0 .55-.45 1-1 1s-1-.45-1-1V14c0-1.1-.9-2-2-2h-1V5c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v16h10v-7.5h1.5v5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V9c0-.69-.28-1.32-.73-1.77zM12 10H6V5h6v5zm6 0c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"}),"LocalGasStation");t.Z=s},89722:function(e,t,r){r.d(t,{Z:function(){return h}});var n=r(87462),o=r(63366),a=r(67294),s=r(86010),i=r(94780),l=r(81719),c=r(78884),u=r(36622),d=r(34867);function p(e){return(0,d.Z)("MuiIcon",e)}(0,r(1588).Z)("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var m=r(85893);const f=["baseClassName","className","color","component","fontSize"],y=(0,l.ZP)("span",{name:"MuiIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,"inherit"!==r.color&&t[`color${(0,u.Z)(r.color)}`],t[`fontSize${(0,u.Z)(r.fontSize)}`]]}})((({theme:e,ownerState:t})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:e.typography.pxToRem(20),medium:e.typography.pxToRem(24),large:e.typography.pxToRem(36)}[t.fontSize],color:{primary:(e.vars||e).palette.primary.main,secondary:(e.vars||e).palette.secondary.main,info:(e.vars||e).palette.info.main,success:(e.vars||e).palette.success.main,warning:(e.vars||e).palette.warning.main,action:(e.vars||e).palette.action.active,error:(e.vars||e).palette.error.main,disabled:(e.vars||e).palette.action.disabled,inherit:void 0}[t.color]}))),v=a.forwardRef((function(e,t){const r=(0,c.Z)({props:e,name:"MuiIcon"}),{baseClassName:a="material-icons",className:l,color:d="inherit",component:v="span",fontSize:h="medium"}=r,b=(0,o.Z)(r,f),g=(0,n.Z)({},r,{baseClassName:a,color:d,component:v,fontSize:h}),x=(e=>{const{color:t,fontSize:r,classes:n}=e,o={root:["root","inherit"!==t&&`color${(0,u.Z)(t)}`,`fontSize${(0,u.Z)(r)}`]};return(0,i.Z)(o,p,n)})(g);return(0,m.jsx)(y,(0,n.Z)({as:v,className:(0,s.default)(a,"notranslate",x.root,l),ownerState:g,"aria-hidden":!0,ref:t},b))}));v.muiName="Icon";var h=v},9144:function(e,t,r){var n=r(63366),o=r(87462),a=r(67294),s=r(95408),i=r(98700),l=r(39707),c=r(59766),u=r(81719),d=r(78884),p=r(85893);const m=["component","direction","spacing","divider","children"];function f(e,t){const r=a.Children.toArray(e).filter(Boolean);return r.reduce(((e,n,o)=>(e.push(n),o<r.length-1&&e.push(a.cloneElement(t,{key:`separator-${o}`})),e)),[])}const y=(0,u.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>[t.root]})((({ownerState:e,theme:t})=>{let r=(0,o.Z)({display:"flex",flexDirection:"column"},(0,s.k9)({theme:t},(0,s.P$)({values:e.direction,breakpoints:t.breakpoints.values}),(e=>({flexDirection:e}))));if(e.spacing){const n=(0,i.hB)(t),o=Object.keys(t.breakpoints.values).reduce(((t,r)=>(("object"===typeof e.spacing&&null!=e.spacing[r]||"object"===typeof e.direction&&null!=e.direction[r])&&(t[r]=!0),t)),{}),a=(0,s.P$)({values:e.direction,base:o}),l=(0,s.P$)({values:e.spacing,base:o});"object"===typeof a&&Object.keys(a).forEach(((e,t,r)=>{if(!a[e]){const n=t>0?a[r[t-1]]:"column";a[e]=n}}));const u=(t,r)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${o=r?a[r]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,i.NA)(n,t)}};var o};r=(0,c.Z)(r,(0,s.k9)({theme:t},l,u))}return r=(0,s.dt)(t.breakpoints,r),r})),v=a.forwardRef((function(e,t){const r=(0,d.Z)({props:e,name:"MuiStack"}),a=(0,l.Z)(r),{component:s="div",direction:i="column",spacing:c=0,divider:u,children:v}=a,h=(0,n.Z)(a,m),b={direction:i,spacing:c};return(0,p.jsx)(y,(0,o.Z)({as:s,ownerState:b,ref:t},h,{children:u?f(v,u):v}))}));t.Z=v},84734:function(e,t,r){r.d(t,{v:function(){return s}});var n=r(49501),o=r(68861),a=r(85893),s=function(){return(0,a.jsx)(n.cC,{id:"<0>Ampleforth</0> is a rebasing asset. Visit the <1>documentation</1> to learn more.",components:{0:(0,a.jsx)("b",{}),1:(0,a.jsx)(o.rU,{href:"https://docs.aave.com/developers/v/2.0/guides/ampl-asset-listing",underline:"always"})}})}},81902:function(e,t,r){var n;r.d(t,{R:function(){return n}}),function(e){e.supplyCap="supplyCap",e.borrowCap="borrowCap"}(n||(n={}))},25049:function(e,t,r){r.d(t,{Y:function(){return p}});var n=r(59499),o=r(4730),a=r(49501),s=r(81902),i=r(58527),l=r(85893),c=["capType"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=function(e){var t=e.capType,r=(0,o.Z)(e,c),n=t===s.R.supplyCap?(0,l.jsx)(a.cC,{id:"This is the total amount that you are able to supply to in this reserve. You are able to supply your wallet balance up until the supply cap is reached."}):(0,l.jsx)(a.cC,{id:"This is the total amount available for you to borrow. You can borrow based on your collateral and until the borrow cap is reached."});return(0,l.jsx)(i.G,d(d({},r),{},{children:n}))}},86099:function(e,t,r){r.d(t,{C:function(){return m}});var n=r(49501),o=r(80227),a=r(9144),s=r(29630),i=r(30120),l=r(91655),c=r(81645),u=r(39051),d=r(41024),p=r(85893),m=function(e){var t=e.decimals,r=e.tokenWrapperAddress,m=e.tokenInSymbol,f=e.tokenOutSymbol,y=(0,u.v)("1",t,r),v=y.isLoading,h=y.data;return(0,p.jsxs)(a.Z,{direction:"column",gap:3,children:[(0,p.jsx)(s.Z,{variant:"tooltip",children:(0,p.jsx)(n.cC,{id:"DAI balance will be converted via DSR contracts and then supplied as sDAI. Switching incurs no additional costs and no slippage."})}),(0,p.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[(0,p.jsx)(i.Z,{children:(0,p.jsx)(s.Z,{variant:"secondary12",children:(0,p.jsx)(n.cC,{id:"Exchange rate"})})}),v?(0,p.jsx)(l.Z,{variant:"rectangular",width:120,height:14}):(0,p.jsxs)(a.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,p.jsx)(d.B,{value:"1",visibleDecimals:0,variant:"secondary12",color:"text.primary"}),(0,p.jsx)(s.Z,{variant:"tooltip",children:m}),(0,p.jsx)(c.Z,{color:"primary",sx:{fontSize:"12px"},children:(0,p.jsx)(o.Z,{})}),(0,p.jsx)(d.B,{value:h||"0",visibleDecimals:4,variant:"secondary12",color:"text.primary"}),(0,p.jsx)(s.Z,{variant:"tooltip",children:f})]})]})]})}},53601:function(e,t,r){r.d(t,{l:function(){return T},W:function(){return E}});var n=r(59499),o=r(4730),a=r(49501),s=r(33740),i=r(62097),l=r(30120),c=r(29630),u=r(90149),d=r(81011),p=r(80562),m=r(55343),f=r(46541),y=r(31538),v=r(61702),h=r(75084),b=r(67294),g=r(57333),x=r(50597),A=r(25049),j=r(41024),k=r(72667),S=r(85893),O=["onChange"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=b.forwardRef((function(e,t){var r=e.onChange,n=(0,o.Z)(e,O);return(0,S.jsx)(g.Z,w(w({},n),{},{getInputRef:t,onValueChange:function(t){t.value!==e.value&&r({target:{name:e.name,value:t.value||""}})},thousandSeparator:!0,isNumericString:!0,allowNegative:!1}))})),E=function(e){var t=e.value,r=e.usdValue,n=e.symbol,o=e.onChange,b=e.disabled,g=e.disableInput,O=e.onSelect,C=e.assets,E=e.capType,I=e.maxValue,P=e.isMaxSelected,L=e.inputTitle,R=e.balanceText,D=e.loading,Z=void 0!==D&&D,B=e.event,M=e.selectOptionHeader,N=e.selectOption,W=e.sx,_=void 0===W?{}:W,U=e.exchangeRateComponent,q=(0,i.Z)(),z=(0,x.Y)((function(e){return e.trackEvent})),F=1===C.length?C[0]:C&&C.find((function(e){return e.symbol===n}));return(0,S.jsxs)(l.Z,w(w({},_),{},{children:[(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,S.jsx)(c.Z,{color:"text.secondary",children:L||(0,S.jsx)(a.cC,{id:"Amount"})}),E&&(0,S.jsx)(A.Y,{capType:E})]}),(0,S.jsxs)(l.Z,{sx:function(e){return{border:"1px solid ".concat(e.palette.divider),borderRadius:"6px",overflow:"hidden"}},children:[(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:.5,px:3,py:2},children:[Z?(0,S.jsx)(l.Z,{sx:{flex:1},children:(0,S.jsx)(u.Z,{color:"inherit",size:"16px"})}):(0,S.jsx)(d.ZP,{sx:{flex:1},placeholder:"0.00",disabled:b||g,value:t,autoFocus:!0,onChange:function(e){o&&(Number(e.target.value)>Number(I)?o("-1"):o(e.target.value))},inputProps:{"aria-label":"amount input",style:{fontSize:"21px",lineHeight:"28,01px",padding:0,height:"28px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},inputComponent:T}),""!==t&&!g&&(0,S.jsx)(p.Z,{sx:{minWidth:0,p:0,left:8,zIndex:1,color:"text.muted","&:hover":{color:"text.secondary"}},onClick:function(){o&&o("")},disabled:b,children:(0,S.jsx)(s.Z,{height:16})}),O&&1!==C.length?(0,S.jsx)(m.Z,{children:(0,S.jsxs)(f.Z,{disabled:b,value:F.symbol,onChange:function(e){var t=C.find((function(t){return t.symbol===e.target.value}));O&&O(t),o&&o("")},variant:"outlined",className:"AssetInput__select","data-cy":"assetSelect",MenuProps:{sx:{maxHeight:"240px",".MuiPaper-root":{border:"dark"===q.palette.mode?"1px solid #EBEBED1F":"unset",boxShadow:"0px 2px 10px 0px #0000001A"}}},sx:{p:0,"&.AssetInput__select .MuiOutlinedInput-input":{p:0,backgroundColor:"transparent",pr:"24px !important"},"&.AssetInput__select .MuiOutlinedInput-notchedOutline":{display:"none"},"&.AssetInput__select .MuiSelect-icon":{color:"text.primary",right:"0%"}},renderValue:function(e){var t=1===C.length?C[0]:C&&C.find((function(t){return t.symbol===e}));return(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center"},"data-cy":"assetsSelectedOption_".concat(t.symbol.toUpperCase()),children:[(0,S.jsx)(k.T1,{symbol:t.iconSymbol||t.symbol,aToken:t.aToken,sx:{mr:2,ml:4}}),(0,S.jsx)(c.Z,{variant:"main16",color:"text.primary",children:e})]})},children:[M||void 0,C.map((function(e){return(0,S.jsx)(y.Z,{value:e.symbol,"data-cy":"assetsSelectOption_".concat(e.symbol.toUpperCase()),children:N?N(e):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(k.T1,{aToken:e.aToken,symbol:e.iconSymbol||e.symbol,sx:{fontSize:"22px",mr:1}}),(0,S.jsx)(v.Z,{sx:{mr:6},children:e.symbol}),e.balance&&(0,S.jsx)(j.B,{value:e.balance,compact:!0})]})},e.symbol)}))]})}):(0,S.jsxs)(l.Z,{sx:{display:"inline-flex",alignItems:"center"},children:[(0,S.jsx)(k.T1,{aToken:F.aToken,symbol:F.iconSymbol||F.symbol,sx:{mr:2,ml:4}}),(0,S.jsx)(c.Z,{variant:"h3",sx:{lineHeight:"28px"},"data-cy":"inputAsset",children:n})]})]}),(0,S.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",height:"16px",px:3,py:2,mb:1},children:[Z?(0,S.jsx)(l.Z,{sx:{flex:1}}):(0,S.jsx)(j.B,{value:isNaN(Number(r))?0:Number(r),compact:!0,symbol:"USD",variant:"secondary12",color:"text.muted",symbolsColor:"text.muted",flexGrow:1}),F.balance&&o&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(c.Z,{component:"div",variant:"secondary12",color:"text.secondary",children:[R&&""!==R?R:(0,S.jsx)(a.cC,{id:"Balance"})," ",(0,S.jsx)(j.B,{value:F.balance,compact:!0,variant:"secondary12",color:"text.secondary",symbolsColor:"text.disabled"})]}),!g&&(0,S.jsx)(h.Z,{size:"small",sx:{minWidth:0,ml:"7px",p:0},onClick:function(){B&&z(B.eventName,w({},B.eventParams)),o("-1")},disabled:b||P,children:(0,S.jsx)(a.cC,{id:"Max"})})]})]}),U&&(0,S.jsx)(l.Z,{sx:{background:q.palette.background.surface,borderTop:"1px solid ".concat(q.palette.divider),px:3,py:2},children:U})]})]}))}},94635:function(e,t,r){r.d(t,{A:function(){return b}});var n=r(80854),o=(r(67294),r(73965)),a=r(82482),s=r(43629),i=r(66209),l=r(8195),c=r(22454),u=r(77537),d=r(50597),p=r(63206),m=r(57609),f=r(78944),y=r(10343),v=r(63491),h=r(85893),b=function(e){var t,r,b=e.hideTitleSymbol,g=e.underlyingAsset,x=e.children,A=e.requiredChainId,j=e.title,k=e.requiredPermission,S=e.keepWrappedSymbol,O=(0,u.Z)().readOnlyModeAddress,C=(0,d.Y)((function(e){return e.currentMarketData})),w=(0,d.Y)((function(e){return e.currentNetworkConfig})),T=(0,a.P)(C).walletBalances,E=(0,o.HT)(),I=E.user,P=E.reserves,L=(0,l.vR)(),R=L.txError,D=L.mainTxState,Z=(0,c.T)().permissions,B=(0,i.Q)(A),M=B.isWrongNetwork,N=B.requiredChainId;if(R&&R.blocking)return(0,h.jsx)(v.D,{txError:R});if(k&&p.cr.permissions(C)&&!Z.includes(k)&&C.permissionComponent)return(0,h.jsx)(h.Fragment,{children:C.permissionComponent});var W=P.find((function(e){return g.toLowerCase()===n.hP.toLowerCase()?e.isWrappedBaseAsset:g===e.underlyingAsset})),_=null===I||void 0===I?void 0:I.userReservesData.find((function(e){return g.toLowerCase()===n.hP.toLowerCase()?e.reserve.isWrappedBaseAsset:g===e.underlyingAsset})),U=W.isWrappedBaseAsset&&!S?w.baseAssetSymbol:W.symbol;return(0,h.jsxs)(s.hv,{asset:W,children:[!D.success&&(0,h.jsx)(f.E,{title:j,symbol:b?void 0:U}),M&&!O&&(0,h.jsx)(y.I,{networkName:(0,p.Mo)(N).name,chainId:N,event:{eventName:m.vh.SWITCH_NETWORK,eventParams:{asset:g}}}),x({isWrongNetwork:M,nativeBalance:(null===(t=T[n.hP.toLowerCase()])||void 0===t?void 0:t.amount)||"0",tokenBalance:(null===(r=T[W.underlyingAsset.toLowerCase()])||void 0===r?void 0:r.amount)||"0",poolReserve:W,symbol:U,underlyingAsset:g,userReserve:_})]})}},92874:function(e,t,r){r.r(t),r.d(t,{SupplyModal:function(){return we}});var n=r(59499),o=r(49501),a=r(23286),s=r(67294),i=r(47130),l=r(8195),c=r(31959),u=r(94635),d=r(80854),p=r(82403),m=r(1279),f=r(9144),y=r(29630),v=r(91655),h=r(70794),b=r(86099),g=r(41024),x=r(72667),A=r(69331),j=r(58527),k=r(84734),S=r(82482),O=r(39051),C=r(43629),w=r(46930),T=r(71691),E=r(50597),I=r(94847),P=r(68448),L=r(63206),R=r(57609),D=r(87385),Z=r(73965),B=r(81902),M=r(53601),N=r(67916),W=r(93608),_=r(57824),U=r(94671),q=r(68346),z=r(68861),F=r(85893),H=function(){return(0,F.jsx)(A.v,{severity:"info",children:(0,F.jsxs)(y.Z,{children:[(0,F.jsx)(o.cC,{id:"Supplying your"})," AAVE"," ",(0,F.jsx)(o.cC,{id:"tokens is not the same as staking them. If you wish to stake your"})," AAVE"," ",(0,F.jsx)(o.cC,{id:"tokens, please go to the"})," ",(0,F.jsx)(q.Z,{href:z.Z6.staking,children:(0,F.jsx)(o.cC,{id:"staking view"})})]})})},V=r(18384),Y=function(){return(0,F.jsx)(A.v,{severity:"warning",children:(0,F.jsxs)(y.Z,{children:[(0,F.jsx)(o.cC,{id:"Before supplying"})," SNX"," ",(0,F.jsx)(o.cC,{id:"please check that the amount you want to supply is not currently being used for staking. If it is being used for staking, your transaction might fail."})]})})},$=r(50029),Q=r(17674),G=r(4730),K=r(87794),X=r.n(K),J=r(75331),ee=r(85945),te=r(56371),re=r(28744),ne=r(93591),oe=r(77537),ae=r(32113),se=r(39771),ie=r(31001),le=r(67489),ce=["amountToSupply","poolAddress","isWrongNetwork","sx","symbol","blocked","decimals","isWrappedBaseAsset"];function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pe=s.memo((function(e){var t=e.amountToSupply,r=e.poolAddress,n=e.isWrongNetwork,a=e.sx,i=e.symbol,c=e.blocked,u=e.decimals,p=e.isWrappedBaseAsset,m=(0,G.Z)(e,ce),f=(0,E.Y)((function(e){return[e.tryPermit,e.supply,e.supplyWithPermit,e.walletApprovalMethodPreference,e.estimateGasLimit,e.addTransaction,e.currentMarketData]})),y=(0,Q.Z)(f,7),v=y[0],h=y[1],b=y[2],g=y[3],x=y[4],A=y[5],j=y[6],k=(0,l.vR)(),S=k.approvalTxState,O=k.mainTxState,C=k.loadingTxns,w=k.setLoadingTxns,T=k.setApprovalTxState,I=k.setMainTxState,P=k.setGasLimit,L=k.setTxError,R=v({reserveAddress:r,isWrappedBaseAsset:p}),D=(0,oe.Z)().sendTx,Z=(0,ee.NL)(),B=(0,s.useState)(),M=B[0],N=B[1],W=(0,ne.y)(j,r),_=W.data,q=W.refetch,z=W.isRefetching,H=W.isFetchedAfterMount;w(z);var V=0!==Number(t)&&(0,U.iv)({approvedAmount:(null===_||void 0===_?void 0:_.amount)||"0",amount:t,signedAmount:M?M.amount:"0"});V&&null!==S&&void 0!==S&&S.success&&T({});var Y=R&&g===ae.n.PERMIT,K=(0,re.M)({usePermit:Y,approvedAmount:_,requiresApproval:V,assetAddress:r,symbol:i,decimals:u,signatureAmount:t,onApprovalTxConfirmed:q,onSignTxCompleted:function(e){return N(e)}}).approval;(0,s.useEffect)((function(){H||q()}),[q,H]),(0,s.useEffect)((function(){var e=0;Y?e=Number(d.eB[J.UQ.supplyWithPermit].recommended):(e=Number(d.eB[J.UQ.supply].recommended),V&&!S.success&&(e+=Number(U.pQ))),P(e.toString())}),[V,S,Y,P]);var ue=function(){var e=(0,$.Z)(X().mark((function e(){var n,o,a,s,l;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,I(de(de({},O),{},{loading:!0})),o=J.UQ.default,!Y||!M){e.next=16;break}return o=J.UQ.supplyWithPermit,a=b({signature:M.signature,amount:(0,te.parseUnits)(t,u).toString(),reserve:r,deadline:M.deadline}),e.next=8,x(a);case 8:return a=e.sent,e.next=11,D(a);case 11:return n=e.sent,e.next=14,n.wait(1);case 14:e.next=26;break;case 16:return o=J.UQ.supply,s=h({amount:(0,te.parseUnits)(t,u).toString(),reserve:r}),e.next=20,x(s);case 20:return s=e.sent,e.next=23,D(s);case 23:return n=e.sent,e.next=26,n.wait(1);case 26:I({txHash:n.hash,loading:!1,success:!0}),A(n.hash,{action:o,txState:"success",asset:r,amount:t,assetName:i}),Z.invalidateQueries({queryKey:ie.B.pool}),e.next=36;break;case 31:e.prev=31,e.t0=e.catch(0),l=(0,se.WG)(e.t0,se.aD.GAS_ESTIMATION,!1),L(l),I({txHash:void 0,loading:!1});case 36:case"end":return e.stop()}}),e,null,[[0,31]])})));return function(){return e.apply(this,arguments)}}();return(0,F.jsx)(le.B,de({blocked:c,mainTxState:O,approvalTxState:S,isWrongNetwork:n,requiresAmount:!0,amount:t,symbol:i,preparingTransactions:C||!_,actionText:(0,F.jsx)(o.cC,{id:"Supply {symbol}",values:{symbol:i}}),actionInProgressText:(0,F.jsx)(o.cC,{id:"Supplying {symbol}",values:{symbol:i}}),handleApproval:K,handleAction:ue,requiresApproval:V,tryPermit:R,sx:a},m))})),me=r(98386),fe=["tokenIn","amountToSupply","decimals","symbol","tokenWrapperAddress","isWrongNetwork","sx"];function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var he,be=function(e){var t=e.tokenIn,r=e.amountToSupply,n=e.decimals,a=e.symbol,i=e.tokenWrapperAddress,c=e.isWrongNetwork,u=e.sx,p=(0,G.Z)(e,fe),m=(0,E.Y)((function(e){return[e.account,e.estimateGasLimit,e.addTransaction,e.currentMarketData]})),f=(0,Q.Z)(m,4),y=f[0],v=f[1],h=f[2],b=f[3],g=(0,me.z)().tokenWrapperService,x=(0,s.useState)(),A=x[0],j=x[1],k=(0,l.vR)(),S=k.approvalTxState,O=k.mainTxState,C=k.loadingTxns,w=k.setApprovalTxState,T=k.setMainTxState,I=k.setTxError,P=k.setGasLimit,L=(0,oe.Z)().sendTx,R=(0,ee.NL)(),D=(0,ne.i)({marketData:b,token:t,spender:i}),Z=D.data,B=D.isFetching,M=D.refetch,N=!1;void 0!==Z&&(N=(0,U.iv)({approvedAmount:Z.toString(),amount:r,signedAmount:A?A.amount:"0"}));var W=!1,_=0;_=Number(d.eB[J.UQ.supply].recommended),N&&!S.success&&(_+=Number(U.pQ)),P(_.toString()),N&&null!==S&&void 0!==S&&S.success&&w({});var q=(0,re.M)({usePermit:W,approvedAmount:{amount:(null===Z||void 0===Z?void 0:Z.toString())||"0",spender:i,token:t,user:y},requiresApproval:N,assetAddress:t,symbol:a,decimals:n,signatureAmount:r,onApprovalTxConfirmed:M,onSignTxCompleted:function(e){return j(e)}}).approval,z=function(){var e=(0,$.Z)(X().mark((function e(){var o,s,l,c,u;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,T(ve(ve({},O),{},{loading:!0})),s=J.UQ.default,e.next=18;break;case 7:return l=e.sent,e.next=10,v(l);case 10:return l=e.sent,e.next=13,L(l);case 13:return o=e.sent,e.next=16,o.wait(1);case 16:e.next=30;break;case 18:return s=J.UQ.supply,e.next=21,g.supplyWrappedToken((0,te.parseUnits)(r,n).toString(),i,y);case 21:return c=e.sent,e.next=24,v(c);case 24:return c=e.sent,e.next=27,L(c);case 27:return o=e.sent,e.next=30,o.wait(1);case 30:T({txHash:o.hash,loading:!1,success:!0}),h(o.hash,{action:s,txState:"success",asset:t,amount:r,assetName:a}),R.invalidateQueries({queryKey:ie.B.pool}),R.invalidateQueries({queryKey:ie.B.approvedAmount(y,t,i,b)}),e.next=41;break;case 36:e.prev=36,e.t0=e.catch(0),u=(0,se.WG)(e.t0,se.aD.GAS_ESTIMATION,!1),I(u),T({txHash:void 0,loading:!1});case 41:case"end":return e.stop()}}),e,null,[[0,36]])})));return function(){return e.apply(this,arguments)}}();return(0,F.jsx)(le.B,ve({blocked:!1,mainTxState:O,approvalTxState:S,isWrongNetwork:c,requiresAmount:!0,amount:r,symbol:a,preparingTransactions:C||B,actionText:(0,F.jsx)(o.cC,{id:"Supply {symbol}",values:{symbol:a}}),actionInProgressText:(0,F.jsx)(o.cC,{id:"Supplying {symbol}",values:{symbol:a}}),handleApproval:function(){return q()},handleAction:z,requiresApproval:N,tryPermit:W,sx:u},p))};function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}!function(e){e[e.CAP_REACHED=0]="CAP_REACHED"}(he||(he={}));var Ae=function(e){var t=e.user,r=(0,w.f)().currentMarketData,n=(0,T.P)(),o=(0,S.P)(r).walletBalances,a=(0,C.ov)(),s=a.supplyCap,i=a.debtCeiling,l=e.poolReserve,c=e.userReserve,u=n.find((function(t){return t.tokenOut.underlyingAsset===e.underlyingAsset})),d=u&&"0"!==o[u.tokenIn.underlyingAsset.toLowerCase()].amount,p=t.userReservesData.find((function(e){return e.usageAsCollateralEnabledOnUser&&e.reserve.id!==l.id})),m=!t.isInIsolationMode&&l.isIsolated&&!p&&(!c||"0"===c.underlyingBalance||c.usageAsCollateralEnabledOnUser),f=xe(xe({},e),{},{isolationModeWarning:m?(0,F.jsx)(V.i,{asset:l.symbol}):null,addTokenProps:{address:l.aTokenAddress,symbol:l.iconSymbol,decimals:l.decimals,aToken:!0},collateralType:(0,U.yI)(c,t.totalCollateralUSD,t.isInIsolationMode,i.isMaxed),supplyCapWarning:s.determineWarningDisplay({supplyCap:s}),debtCeilingWarning:i.determineWarningDisplay({debtCeiling:i}),wrappedTokenConfig:n.find((function(t){return t.tokenOut.underlyingAsset===e.underlyingAsset}))});return d?(0,F.jsx)(ke,xe({},f)):(0,F.jsx)(je,xe({},f))},je=s.memo((function(e){var t=e.underlyingAsset,r=e.poolReserve,n=e.isWrongNetwork,a=e.nativeBalance,i=e.tokenBalance,c=e.isolationModeWarning,u=e.addTokenProps,m=e.collateralType,f=e.supplyCapWarning,y=e.debtCeilingWarning,v=e.user,b=(0,Z.HT)().marketReferencePriceInUsd,g=(0,w.f)(),x=g.currentMarketData,j=g.currentNetworkConfig,S=(0,l.vR)(),O=S.mainTxState,C=S.gasLimit,T=S.txError,U=(0,E.Y)((function(e){return e.poolComputed.minRemainingBaseTokenBalance})),q=(0,s.useState)(""),z=q[0],V=q[1],$=t.toLowerCase()===d.hP.toLowerCase(),Q=$?a:i,G=r.supplyAPY,K=r.supplyCap,X=r.totalLiquidity,J=r.isFrozen,ee=r.decimals,te=r.debtCeiling,re=r.isolationModeTotalDebt,ne=(0,I.I)(Q,{supplyCap:K,totalLiquidity:X,isFrozen:J,decimals:ee,debtCeiling:te,isolationModeTotalDebt:re},t,U),oe=new h.Z(z).multipliedBy(r.formattedPriceInMarketReferenceCurrency),ae=oe.multipliedBy(b).shiftedBy(-p.$3),se=z===ne,ie=(0,P.$m)(v,r,oe),le={amountToSupply:z,isWrongNetwork:n,poolAddress:$?d.hP:r.underlyingAsset,symbol:$?j.baseAssetSymbol:r.symbol,blocked:!1,decimals:r.decimals,isWrappedBaseAsset:r.isWrappedBaseAsset};return O.success?(0,F.jsx)(W.R,{action:(0,F.jsx)(o.cC,{id:"Supplied"}),amount:z,symbol:$?j.baseAssetSymbol:r.symbol,addToken:u}):(0,F.jsxs)(F.Fragment,{children:[c,f,y,"AMPL"===r.symbol&&(0,F.jsx)(A.v,{sx:{mt:"16px",mb:"40px"},severity:"warning",children:(0,F.jsx)(k.v,{})}),"AAVE"===r.symbol&&L.cr.staking(x)&&(0,F.jsx)(H,{}),"SNX"===r.symbol&&"0"!==ne&&(0,F.jsx)(Y,{}),(0,F.jsx)(M.W,{value:z,onChange:function(e){if("-1"===e)V(ne);else{var t=(0,D.$w)(e,r.decimals);V(t)}},usdValue:ae.toString(10),symbol:$?j.baseAssetSymbol:r.symbol,assets:[{balance:ne,symbol:$?j.baseAssetSymbol:r.symbol,iconSymbol:$?j.baseAssetSymbol:r.iconSymbol}],capType:B.R.supplyCap,isMaxSelected:se,disabled:O.loading,maxValue:ne,balanceText:(0,F.jsx)(o.cC,{id:"Wallet balance"}),event:{eventName:R.vh.MAX_INPUT_SELECTION,eventParams:{asset:r.underlyingAsset,assetName:r.name}}}),(0,F.jsxs)(_.m6,{gasLimit:C,skipLoad:!0,disabled:0===Number(z),children:[(0,F.jsx)(_.oD,{description:(0,F.jsx)(o.cC,{id:"Supply APY"}),value:G,percent:!0}),(0,F.jsx)(_.aE,{incentives:r.aIncentivesData,symbol:r.symbol}),(0,F.jsx)(_.Bx,{collateralType:m}),(0,F.jsx)(_.jz,{visibleHfChange:!!z,healthFactor:v?v.healthFactor:"-1",futureHealthFactor:ie.toString()})]}),T&&(0,F.jsx)(N.Q,{txError:T}),(0,F.jsx)(pe,xe({},le))]})})),ke=function(e){var t=e.poolReserve,r=e.wrappedTokenConfig,n=e.isolationModeWarning,a=e.supplyCapWarning,i=e.debtCeilingWarning,c=e.addTokenProps,u=e.collateralType,d=e.isWrongNetwork,f=e.user,y=(0,Z.HT)().marketReferencePriceInUsd,v=(0,w.f)().currentMarketData,b=(0,l.vR)(),g=b.mainTxState,x=b.gasLimit,A=b.txError,j=(0,S.P)(v).walletBalances,k=(0,E.Y)((function(e){return e.poolComputed.minRemainingBaseTokenBalance}));if(!r)throw new Error("Wrapped token config is not defined");var C=j[r.tokenIn.underlyingAsset].amount,T=j[r.tokenOut.underlyingAsset].amount,L=[{balance:C,symbol:r.tokenIn.symbol,iconSymbol:r.tokenIn.symbol,address:r.tokenIn.underlyingAsset}];"0"!==T&&L.unshift({balance:T,symbol:r.tokenOut.symbol,iconSymbol:r.tokenOut.symbol,address:r.tokenOut.underlyingAsset});var U=(0,s.useState)(L[0]),q=U[0],z=U[1],H=(0,s.useState)(""),V=H[0],Y=H[1],$=(0,s.useState)("0"),Q=$[0],G=$[1],K=(0,O.E)("1",t.decimals,r.tokenWrapperAddress).data;(0,s.useEffect)((function(){if(K){var e=(0,m.hE)(C).multipliedBy(K).toString();G(e)}}),[K,C]);var X=t.supplyCap,J=t.totalLiquidity,ee=t.isFrozen,te=t.decimals,re=t.debtCeiling,ne=t.isolationModeTotalDebt,oe=(0,I.I)(T,{supplyCap:X,totalLiquidity:J,isFrozen:ee,decimals:te,debtCeiling:re,isolationModeTotalDebt:ne},t.underlyingAsset,k),ae=(0,I.x)(t.supplyCap,t.totalLiquidity),se=C;(0,h.Z)(Q).isGreaterThan(ae)&&(se=(0,h.Z)(ae).dividedBy(K||"0").toString(),se=(0,D.$w)(se,t.decimals));var ie=!1;r&&(ie=q.address===r.tokenIn.underlyingAsset);var le=new h.Z(V).multipliedBy(ie?r.tokenIn.formattedPriceInMarketReferenceCurrency:t.formattedPriceInMarketReferenceCurrency),ce=le.multipliedBy(y).shiftedBy(-p.$3),ue=V===oe,de=(0,P.$m)(f,t,le);if(g.success){var me=ie?(0,h.Z)(V).dividedBy(K||"1").toString():V;return(0,F.jsx)(W.R,{action:(0,F.jsx)(o.cC,{id:"Supplied"}),amount:me,symbol:t.symbol,addToken:c})}return(0,F.jsxs)(F.Fragment,{children:[n,a,i,(0,F.jsx)(M.W,{value:V,onChange:function(e){if("-1"===e)Y(ie?se:oe);else{var r=(0,D.$w)(e,t.decimals);Y(r)}},usdValue:ce.toString(10),symbol:q.symbol,assets:L,onSelect:z,capType:B.R.supplyCap,isMaxSelected:ue,disabled:g.loading,balanceText:(0,F.jsx)(o.cC,{id:"Wallet balance"}),event:{eventName:R.vh.MAX_INPUT_SELECTION,eventParams:{asset:t.underlyingAsset,assetName:t.name}},exchangeRateComponent:ie&&(0,F.jsx)(Se,{supplyAmount:V,decimals:t.decimals,tokenWrapperAddress:r.tokenWrapperAddress,tokenInSymbol:r.tokenIn.symbol,tokenOutSymbol:r.tokenOut.symbol})}),(0,F.jsxs)(_.m6,{gasLimit:x,skipLoad:!0,disabled:0===Number(V),children:[(0,F.jsx)(_.oD,{description:(0,F.jsx)(o.cC,{id:"Supply APY"}),value:t.supplyAPY,percent:!0}),(0,F.jsx)(_.aE,{incentives:t.aIncentivesData,symbol:t.symbol}),(0,F.jsx)(_.Bx,{collateralType:u}),(0,F.jsx)(_.jz,{visibleHfChange:!!V,healthFactor:f?f.healthFactor:"-1",futureHealthFactor:de.toString()})]}),A&&(0,F.jsx)(N.Q,{txError:A}),ie?(0,F.jsx)(be,{tokenWrapperAddress:r.tokenWrapperAddress,tokenIn:r.tokenIn.underlyingAsset,amountToSupply:V,decimals:18,symbol:r.tokenIn.symbol,isWrongNetwork:d}):(0,F.jsx)(pe,{isWrongNetwork:d,amountToSupply:V,poolAddress:t.underlyingAsset,symbol:t.symbol,blocked:!1,decimals:t.decimals,isWrappedBaseAsset:!1})]})},Se=function(e){var t=e.supplyAmount,r=e.decimals,n=e.tokenInSymbol,o=e.tokenOutSymbol,a=e.tokenWrapperAddress,s=(0,O.v)(t,r,a),i=s.isFetching,l=s.data;return(0,F.jsxs)(f.Z,{direction:"row",alignItems:"center",gap:1,children:[(0,F.jsx)(y.Z,{variant:"caption",children:"Supply amount"}),(0,F.jsx)(x.T1,{sx:{fontSize:"16px"},symbol:"sdai"}),i?(0,F.jsx)(v.Z,{variant:"rectangular",width:80,height:14}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(g.B,{value:l||"",variant:"subheader2",color:"text.primary",visibleDecimals:2}),(0,F.jsx)(y.Z,{variant:"subheader2",color:"text.secondary",children:"sDAI"})]}),(0,F.jsx)(j.G,{children:(0,F.jsx)(b.C,{decimals:r,tokenWrapperAddress:a,tokenInSymbol:n,tokenOutSymbol:o})})]})};function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var we=function(){var e=(0,l.vR)(),t=e.type,r=e.close,n=e.args;return(0,F.jsx)(c.P,{open:t===l.w8.Supply,setOpen:r,children:(0,F.jsx)(u.A,{action:"supply",title:(0,F.jsx)(o.cC,{id:"Supply"}),underlyingAsset:n.underlyingAsset,requiredPermission:a.g.DEPOSITOR,children:function(e){return(0,F.jsx)(i.X,{children:function(t){return(0,F.jsx)(Ae,Ce(Ce({},e),{},{user:t}))}})}})})}},18384:function(e,t,r){r.d(t,{i:function(){return l}});var n=r(49501),o=r(29630),a=r(68861),s=r(69331),i=r(85893),l=function(e){var t=e.asset,r=e.severity;return(0,i.jsxs)(s.v,{severity:r||"info",sx:{mb:3},children:[(0,i.jsx)(o.Z,{variant:"subheader1",mb:.5,children:(0,i.jsx)(n.cC,{id:"You are entering Isolation mode"})}),(0,i.jsx)(o.Z,{children:(0,i.jsx)(n.cC,{id:"In Isolation mode, you cannot supply other assets as collateral. A global debt ceiling limits the borrowing power of the isolated asset. To exit isolation mode disable {0} as collateral before borrowing another asset. Read more in our <0>FAQ</0>",values:{0:t||""},components:{0:(0,i.jsx)(a.rU,{href:"https://docs.aave.com/faq/aave-v3-features#isolation-mode"})}})})]})}},94671:function(e,t,r){r.d(t,{NI:function(){return n},gK:function(){return s},pQ:function(){return i},Fi:function(){return l},iv:function(){return c},Vc:function(){return u},yI:function(){return d}});var n,o=r(70794),a=r(29946);!function(e){e[e.SUPPLY_CAP_REACHED=0]="SUPPLY_CAP_REACHED",e[e.NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH=1]="NOT_ENOUGH_COLLATERAL_TO_REPAY_WITH",e[e.ZERO_LTV_WITHDRAW_BLOCKED=2]="ZERO_LTV_WITHDRAW_BLOCKED",e[e.FLASH_LOAN_NOT_AVAILABLE=3]="FLASH_LOAN_NOT_AVAILABLE"}(n||(n={}));var s=function(e,t){return"-1"!==e&&new o.O(e).minus(new o.O(t)).lt("1.05")},i=65e3,l=55e3,c=function(e){var t=e.approvedAmount,r=e.signedAmount,n=e.amount;return!("-1"===t||"-1"===r||"0"!==t&&Number(t)>=Number(n)||Number(r)>=Number(n))},u=function(e){var t=[];return e.userReservesData.forEach((function(e){Number(e.scaledATokenBalance)>0&&"0"===e.reserve.baseLTVasCollateral&&e.usageAsCollateralEnabledOnUser&&"0"!==e.reserve.reserveLiquidationThreshold&&t.push(e.reserve.symbol)})),t},d=function(e,t,r,n){var o=e.reserve;if(!o.usageAsCollateralEnabled)return a.z.UNAVAILABLE;var s=a.z.ENABLED,i=e&&"0"!==e.scaledATokenBalance,l="0"!==t;return o.isIsolated?n?s=a.z.UNAVAILABLE:r?i?s=e.usageAsCollateralEnabledOnUser?a.z.ISOLATED_ENABLED:a.z.DISABLED:l&&(s=a.z.UNAVAILABLE_DUE_TO_ISOLATION):s=l?a.z.ISOLATED_DISABLED:a.z.ISOLATED_ENABLED:s=r?a.z.UNAVAILABLE_DUE_TO_ISOLATION:i?e.usageAsCollateralEnabledOnUser?a.z.ENABLED:a.z.DISABLED:a.z.ENABLED,s}},39051:function(e,t,r){r.d(t,{E:function(){return i},v:function(){return l}});var n=r(36492),o=r(2593),a=r(56371),s=r(98386),i=function(e,t,r){var i=(0,s.z)().tokenWrapperService;return(0,n.a)({queryFn:function(){return""===e||"0"===e?Promise.resolve(o.O$.from(0)):i.getTokenInForTokenOut((0,a.parseUnits)(e,t).toString(),r)},queryKey:["tokenInForTokenOut",r,e],select:function(e){return(0,a.formatUnits)(e.toString(),t)}})},l=function(e,t,r){var i=(0,s.z)().tokenWrapperService;return(0,n.a)({queryFn:function(){return""===e||"0"===e?Promise.resolve(o.O$.from(0)):i.getTokenOutForTokenIn((0,a.parseUnits)(e,t).toString(),r)},queryKey:["tokenOutForTokenIn",r,e],select:function(e){return(0,a.formatUnits)(e.toString(),t)}})}},28744:function(e,t,r){r.d(t,{M:function(){return g}});var n=r(59499),o=r(50029),a=r(17674),s=r(87794),i=r.n(s),l=r(75331),c=r(80854),u=r(21046),d=r(56371),p=r(89291),m=r(77537),f=r(50597),y=r(39771),v=r(8195);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(e){var t=e.usePermit,r=e.approvedAmount,n=e.requiresApproval,s=e.assetAddress,h=e.symbol,g=e.decimals,x=e.signatureAmount,A=e.onApprovalTxConfirmed,j=e.onSignTxCompleted,k=(0,f.Y)((function(e){return[e.generateApproval,e.generateSignatureRequest,e.estimateGasLimit,e.addTransaction]})),S=(0,a.Z)(k,4),O=S[0],C=S[1],w=S[2],T=S[3],E=(0,m.Z)(),I=E.signTxData,P=E.sendTx,L=(0,v.vR)(),R=L.approvalTxState,D=L.setApprovalTxState,Z=L.setTxError,B=function(){var e=(0,o.Z)(i().mark((function e(){var o,a,m,f,v,k;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n||!r){e.next=30;break}if(!t){e.next=16;break}return D(b(b({},R),{},{loading:!0})),o=Math.floor(Date.now()/1e3+3600).toString(),e.next=7,C(b(b({},r),{},{deadline:o,amount:"-1"===x?u.Bz.toString():(0,d.parseUnits)(x,g).toString()}));case 7:return a=e.sent,e.next=10,I(a);case 10:m=e.sent,j&&j({signature:m,deadline:o,amount:x}),Z(void 0),D({txHash:p.Z,loading:!1,success:!0}),e.next=30;break;case 16:return f=O(r),D(b(b({},R),{},{loading:!0})),e.next=20,w(f);case 20:return f=e.sent,e.next=23,P(f);case 23:return v=e.sent,e.next=26,v.wait(1);case 26:D({txHash:v.hash,loading:!1,success:!0}),Z(void 0),T(v.hash,{action:l.UQ.approval,txState:"success",asset:s,amount:c.ke,assetName:h}),A&&A();case 30:e.next=37;break;case 32:e.prev=32,e.t0=e.catch(0),k=(0,y.WG)(e.t0,y.aD.GAS_ESTIMATION,!1),Z(k),D({txHash:void 0,loading:!1});case 37:case"end":return e.stop()}}),e,null,[[0,32]])})));return function(){return e.apply(this,arguments)}}();return{approval:B}}},93591:function(e,t,r){r.d(t,{i:function(){return i},y:function(){return l}});var n=r(36492),o=r(50597),a=r(31001),s=r(98386),i=function(e){var t=e.marketData,r=e.token,i=e.spender,l=(0,s.z)().approvedAmountService,c=(0,o.Y)((function(e){return e.account}));return(0,n.a)({queryFn:function(){return l.getApprovedAmount(t,c,r,i)},queryKey:a.B.approvedAmount(c,r,i,t)})},l=function(e,t){var r=(0,s.z)().approvedAmountService,i=(0,o.Y)((function(e){return e.account}));return(0,n.a)({queryFn:function(){return r.getPoolApprovedAmount(e,i,t)},queryKey:a.B.poolApprovedAmount(i,t,e)})}},71691:function(e,t,r){r.d(t,{P:function(){return d}});var n=r(59499),o=r(1279),a=r(3439),s=r(50597),i=r(27887),l=r(87385),c=r(73965),u=(0,n.Z)({},i.e.proto_mainnet_v3,[{tokenIn:a.ou.DAI.UNDERLYING.toLowerCase(),tokenOut:a.ou.sDAI.UNDERLYING.toLowerCase(),tokenWrapperContractAddress:a.zq}]),d=function(){var e,t=(0,c.HT)(),r=t.marketReferencePriceInUsd,n=t.marketReferenceCurrencyDecimals,a=t.reserves,i=(0,s.Y)((function(e){return e.currentMarket}));if(!a||0===a.length)return[];return(null!==(e=u[i])&&void 0!==e?e:[]).map((function(e){var t=a.find((function(t){return t.underlyingAsset===e.tokenIn})),s=a.find((function(t){return t.underlyingAsset===e.tokenOut}));if(!t||!s)throw new Error("wrapped token reserves not found");var i=(0,o.Fv)(t.priceInMarketReferenceCurrency,n),c=(0,o.Fv)(s.priceInMarketReferenceCurrency,n);return{tokenIn:{symbol:t.symbol,underlyingAsset:t.underlyingAsset,decimals:t.decimals,priceInUSD:(0,l.N4)(1,i,r).toString(),formattedPriceInMarketReferenceCurrency:i},tokenOut:{symbol:s.symbol,underlyingAsset:s.underlyingAsset,decimals:s.decimals,priceInUSD:(0,l.N4)(1,c,r).toString(),formattedPriceInMarketReferenceCurrency:c},tokenWrapperAddress:e.tokenWrapperContractAddress}}))}},94847:function(e,t,r){r.d(t,{x:function(){return i},I:function(){return l}});var n=r(80854),o=r(1279),a=r(70794),s=r(87385);function i(e,t){return"0"===e?new a.Z(-1):new a.Z(e).minus(t)}function l(e,t,r,l){if(t.isFrozen)return"0";var c=(0,o.hE)(e);return c.gt(0)&&r.toLowerCase()===n.hP.toLowerCase()&&(c=c.minus(l)),"0"!==t.supplyCap&&(c=a.Z.min(c,i(t.supplyCap,t.totalLiquidity))),c.lte(0)?"0":(0,s.$w)(c.toString(10),t.decimals)}},68448:function(e,t,r){r.d(t,{_S:function(){return s},bU:function(){return i},DX:function(){return l},$m:function(){return c}});var n=r(20854),o=r(1279),a=r(70794);function s(e){var t,r=e.fromAmount,a=e.fromAssetData,s=e.fromAssetUserData,i=e.toAmountAfterSlippage,l=e.toAssetData,c=e.user,u=c.isInEmode&&c.userEmodeCategoryId===a.eModeCategoryId?a.formattedEModeLiquidationThreshold:a.formattedReserveLiquidationThreshold,d="0";s.usageAsCollateralEnabledOnUser&&"0"!==a.reserveLiquidationThreshold&&(d=(0,n.L1)({collateralBalanceMarketReferenceCurrency:(0,o.hE)(r).multipliedBy(a.formattedPriceInMarketReferenceCurrency),borrowBalanceMarketReferenceCurrency:c.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:u}).toString());var p="0";return(!c.isInIsolationMode&&!l.isIsolated||c.isInIsolationMode&&(null===(t=c.isolatedReserve)||void 0===t?void 0:t.underlyingAsset)===l.underlyingAsset)&&(p=(0,n.L1)({collateralBalanceMarketReferenceCurrency:(0,o.hE)(i).multipliedBy(l.formattedPriceInMarketReferenceCurrency),borrowBalanceMarketReferenceCurrency:c.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:c.isInEmode&&c.userEmodeCategoryId===l.eModeCategoryId?l.formattedEModeLiquidationThreshold:l.formattedReserveLiquidationThreshold}).toString()),{hfEffectOfFromAmount:d,hfAfterSwap:"-1"===c.healthFactor?(0,o.hE)("-1"):(0,o.hE)(c.healthFactor).plus(p).minus(d)}}var i=function(e){var t=e.user,r=e.amountToReceiveAfterSwap,s=e.amountToSwap,i=e.fromAssetData,l=e.toAssetData,c=e.repayWithUserReserve,u=e.debt,d=t.isInEmode&&t.userEmodeCategoryId===i.eModeCategoryId?i.formattedEModeLiquidationThreshold:i.formattedReserveLiquidationThreshold,p="0";null!==c&&void 0!==c&&c.usageAsCollateralEnabledOnUser&&i.usageAsCollateralEnabled&&(p=(0,n.L1)({collateralBalanceMarketReferenceCurrency:(0,o.hE)(s).multipliedBy(i.formattedPriceInMarketReferenceCurrency),borrowBalanceMarketReferenceCurrency:t.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:d}).toString());var m=(0,o.hE)(a.Z.min(r,u)).multipliedBy(l.priceInUSD).toString(10),f=(0,o.hE)(t.totalBorrowsUSD).minus(m);f=a.Z.max(f,(0,o.hE)("0"));var y=(0,n.L1)({collateralBalanceMarketReferenceCurrency:t.totalCollateralUSD,borrowBalanceMarketReferenceCurrency:f.toString(10),currentLiquidationThreshold:t.currentLiquidationThreshold}),v="0"!==i.reserveLiquidationThreshold&&null!==c&&void 0!==c&&c.usageAsCollateralEnabledOnUser?(0,n.L1)({collateralBalanceMarketReferenceCurrency:(0,o.hE)(s).multipliedBy(i.priceInUSD),borrowBalanceMarketReferenceCurrency:f.toString(10),currentLiquidationThreshold:i.formattedReserveLiquidationThreshold}).toString():"0",h=y.eq(-1)?y:y.minus(v);return{hfEffectOfFromAmount:(0,o.hE)(p),hfAfterSwap:h.isLessThan(0)&&!h.eq(-1)?0:h}},l=function(e){var t=e.user,r=e.userReserve,s=e.poolReserve,i=e.withdrawAmount,l=(0,o.hE)(t.totalCollateralMarketReferenceCurrency),c=t.currentLiquidationThreshold,u=(0,o.hE)(t.healthFactor),d=t.isInEmode&&t.userEmodeCategoryId===s.eModeCategoryId?s.formattedEModeLiquidationThreshold:s.formattedReserveLiquidationThreshold;if(null!==r&&void 0!==r&&r.usageAsCollateralEnabledOnUser&&"0"!==s.reserveLiquidationThreshold){var p=(0,o.hE)(i).multipliedBy(s.formattedPriceInMarketReferenceCurrency);l=l.minus(p),c=(0,o.hE)(t.totalCollateralMarketReferenceCurrency).multipliedBy((0,o.hE)(t.currentLiquidationThreshold)).minus((0,o.hE)(p).multipliedBy(d)).div(l).toFixed(4,a.Z.ROUND_DOWN),u=(0,n.L1)({collateralBalanceMarketReferenceCurrency:l,borrowBalanceMarketReferenceCurrency:t.totalBorrowsMarketReferenceCurrency,currentLiquidationThreshold:c})}return u},c=function(e,t,r){var a,s=e?(0,o.hE)(e.healthFactor):"-1",i=e?(0,o.hE)(e.totalCollateralMarketReferenceCurrency).plus(r):"-1",l=e?(0,o.hE)(e.totalCollateralMarketReferenceCurrency).multipliedBy(e.currentLiquidationThreshold).plus(r.multipliedBy(t.formattedReserveLiquidationThreshold)).dividedBy(i):"-1";return e&&(!e.isInIsolationMode&&!t.isIsolated||e.isInIsolationMode&&(null===(a=e.isolatedReserve)||void 0===a?void 0:a.underlyingAsset)===t.underlyingAsset)&&(s=(0,n.L1)({collateralBalanceMarketReferenceCurrency:i,borrowBalanceMarketReferenceCurrency:(0,o.hE)(e.totalBorrowsMarketReferenceCurrency),currentLiquidationThreshold:l})),s}},64343:function(e,t,r){var n=r(67294);const o=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"}))}));t.Z=o},80227:function(e,t,r){var n=r(67294);const o=n.forwardRef((function(e,t){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),n.createElement("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"}))}));t.Z=o},7687:function(e,t,r){r.d(t,{r:function(){return d}});var n=r(67294),o=r(464),a=r(30081),s=r(91784),i=r(85945),l=r(37122),c=r(91670),u=r(38381);function d(e,t){const r=(0,i.NL)({context:e.context}),d=(0,l.S)(),p=(0,s._)(),m=r.defaultQueryOptions(e);m._optimisticResults=d?"isRestoring":"optimistic",m.onError&&(m.onError=a.V.batchCalls(m.onError)),m.onSuccess&&(m.onSuccess=a.V.batchCalls(m.onSuccess)),m.onSettled&&(m.onSettled=a.V.batchCalls(m.onSettled)),(0,u.Fb)(m),(0,c.pf)(m,p),(0,c.JN)(p);const[f]=n.useState((()=>new t(r,m))),y=f.getOptimisticResult(m);if((0,o.$)(n.useCallback((e=>d?()=>{}:f.subscribe(a.V.batchCalls(e))),[f,d]),(()=>f.getCurrentResult()),(()=>f.getCurrentResult())),n.useEffect((()=>{f.setOptions(m,{listeners:!1})}),[m,f]),(0,u.SB)(m,y,d))throw(0,u.j8)(m,f,p);if((0,c.KJ)({result:y,errorResetBoundary:p,useErrorBoundary:m.useErrorBoundary,query:f.getCurrentQuery()}))throw y.error;return m.notifyOnChangeProps?y:f.trackResult(y)}},36492:function(e,t,r){r.d(t,{a:function(){return s}});var n=r(32161),o=r(52924),a=r(7687);function s(e,t,r){const s=(0,n._v)(e,t,r);return(0,a.r)(s,o.z)}},83618:function(e,t,r){r.d(t,{Z:function(){return i}});var n=r(14666),o=r(28811),a=r(2937),s=r(14882);function i(e){return(0,n.Z)(e)||(0,o.Z)(e)||(0,a.Z)(e)||(0,s.Z)()}},25043:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(67294),o=Object.defineProperty,a=(e,t,r)=>(((e,t,r)=>{t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r})(e,"symbol"!=typeof t?t+"":t,r),r);const s=(e,t)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(t):e.style.getPropertyValue(t),i=e=>s(e,"overflow")+s(e,"overflow-y")+s(e,"overflow-x");class l extends n.Component{constructor(e){super(e),a(this,"elementObserver"),a(this,"wrapper"),a(this,"lazyLoadHandler",(e=>{var t,r;const{onContentVisible:n}=this.props,[o]=e,{isIntersecting:a}=o;if(a){this.setState({visible:!0},(()=>{n&&n()}));const e=null==(t=this.wrapper)?void 0:t.current;e&&e instanceof HTMLElement&&(null==(r=this.elementObserver)||r.unobserve(e))}})),this.elementObserver=null,this.wrapper=n.createRef(),this.state={visible:!1}}componentDidMount(){var e;this.getEventNode();const{offset:t,threshold:r}=this.props,n={rootMargin:"number"==typeof t?`${t}px`:t||"0px",threshold:r||0};this.elementObserver=new IntersectionObserver(this.lazyLoadHandler,n);const o=null==(e=this.wrapper)?void 0:e.current;o instanceof HTMLElement&&this.elementObserver.observe(o)}shouldComponentUpdate(e,t){return t.visible}componentWillUnmount(){var e,t;const r=null==(e=this.wrapper)?void 0:e.current;r&&r instanceof HTMLElement&&(null==(t=this.elementObserver)||t.unobserve(r))}getEventNode(){var e;return(e=>{if(!(e instanceof HTMLElement))return window;let t=e;for(;t&&t!==document.body&&t!==document.documentElement&&t.parentNode;){if(/(scroll|auto)/.test(i(t)))return t;t=t.parentNode}return window})(null==(e=this.wrapper)?void 0:e.current)}render(){const{children:e,className:t,height:r,width:o,elementType:a}=this.props,{visible:s}=this.state,i={height:r,width:o},l=`LazyLoad${s?" is-visible":""}${t?` ${t}`:""}`;return(0,n.createElement)(a||"div",{className:l,style:i,ref:this.wrapper},s&&n.Children.only(e))}}a(l,"defaultProps",{elementType:"div",className:"",offset:0,threshold:0,width:null,onContentVisible:null,height:null})}}]);